<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÂÆ†ÂèãÂúà - ÂÖªÂÆ†ÁªèÈ™åÂàÜ‰∫´Á§æÂå∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --dark: #2C3E50;
            --light: #F7F9FC;
            --gray: #95A5A6;
            --success: #2ECC71;
            --warning: #F39C12;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: var(--light);
            color: var(--dark);
            min-height: 100vh;
            padding-bottom: 60px;
        }
        
        /* È°∂ÈÉ®ÂØºËà™ */
        .header {
            background: white;
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo::before {
            content: "üêæ";
            font-size: 24px;
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .search-icon, .notification-icon {
            font-size: 20px;
            color: var(--gray);
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .search-icon:hover, .notification-icon:hover {
            color: var(--primary);
        }
        
        /* ÂàÜÁ±ªÊ†áÁ≠æ */
        .category-tabs {
            background: white;
            padding: 10px 15px;
            display: flex;
            gap: 12px;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
            border-bottom: 1px solid #eee;
        }
        
        .category-tabs::-webkit-scrollbar {
            display: none;
        }
        
        .tab {
            padding: 6px 16px;
            background: var(--light);
            border-radius: 20px;
            font-size: 14px;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s;
            flex-shrink: 0;
        }
        
        .tab.active {
            background: var(--primary);
            color: white;
        }
        
        /* ÂÜÖÂÆπÂå∫Âüü */
        .content {
            padding: 15px;
        }
        
        /* ÂèëÂ∏ñÂÖ•Âè£ */
        .post-entry {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .post-entry:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .post-entry-text {
            color: var(--gray);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .post-entry-text::before {
            content: "‚úèÔ∏è";
            font-size: 18px;
        }
        
        /* Â∏ñÂ≠êÂç°Áâá */
        .post-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }
        
        .post-card:active {
            transform: scale(0.98);
        }
        
        .post-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
        }
        
        .post-info {
            flex: 1;
        }
        
        .username {
            font-weight: 600;
            font-size: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .badge {
            background: var(--warning);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: normal;
        }
        
        .post-time {
            font-size: 12px;
            color: var(--gray);
            margin-top: 2px;
        }
        
        .post-content {
            margin-bottom: 12px;
        }
        
        .post-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
        }
        
        .post-text {
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }
        
        .post-images {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 10px;
        }
        
        .post-image {
            width: 100%;
            padding-bottom: 100%;
            background: #f0f0f0;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .post-image img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .post-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 10px 0;
        }
        
        .tag {
            background: #E8F4F3;
            color: var(--secondary);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .post-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid #f0f0f0;
        }
        
        .action-btn {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 14px;
            color: var(--gray);
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .action-btn:hover {
            color: var(--primary);
        }
        
        .action-btn.liked {
            color: var(--primary);
        }
        
        /* Â∫ïÈÉ®ÂØºËà™ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 4px 20px;
            cursor: pointer;
            transition: color 0.3s;
            color: var(--gray);
            position: relative;
        }
        
        .nav-item .badge-dot {
            position: absolute;
            top: 2px;
            right: 18px;
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .nav-item.active {
            color: var(--primary);
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        .nav-text {
            font-size: 11px;
        }
        
        /* ÊµÆÂä®ÂèëÂ∏ñÊåâÈíÆ */
        .fab {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 4px 20px rgba(255, 107, 107, 0.4);
            cursor: pointer;
            z-index: 99;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(255, 107, 107, 0.6);
        }
        
        .fab:active {
            transform: scale(0.95);
        }
        
        /* ÂºπÂá∫Â±Ç */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 200;
            animation: fadeIn 0.3s;
        }
        
        .modal.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        
        .modal-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 20px 20px 0 0;
            padding: 20px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: bold;
        }
        
        .close-btn {
            font-size: 24px;
            color: var(--gray);
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-size: 14px;
            color: var(--dark);
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-input, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .category-select {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        
        .category-option {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .category-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .submit-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .submit-btn:active {
            transform: scale(0.98);
        }
        
        /* ‰∏ìÂÆ∂Ê†áËØÜ */
        .expert-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        /* Âä†ËΩΩÂä®Áîª */
        .loading {
            text-align: center;
            padding: 20px;
            color: var(--gray);
        }
        
        .loading::after {
            content: "...";
            animation: dots 1.5s infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: "."; }
            40% { content: ".."; }
            60%, 100% { content: "..."; }
        }
        
        /* Áæ§ËÅäÊ†∑Âºè */
        .chat-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #F7F9FC;
            z-index: 300;
            flex-direction: column;
        }
        
        .chat-container.active {
            display: flex;
        }
        
        .chat-header {
            background: white;
            padding: 12px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .chat-back {
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }
        
        .chat-title {
            flex: 1;
            text-align: center;
            font-weight: 600;
            font-size: 16px;
        }
        
        .chat-info {
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }
        
        .chat-groups {
            background: white;
            padding: 10px 15px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            border-bottom: 1px solid #eee;
        }
        
        .chat-groups::-webkit-scrollbar {
            display: none;
        }
        
        .group-tab {
            padding: 8px 16px;
            background: var(--light);
            border-radius: 20px;
            font-size: 14px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            flex-shrink: 0;
            position: relative;
        }
        
        .group-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .group-tab .member-count {
            font-size: 11px;
            opacity: 0.8;
            margin-left: 4px;
        }
        
        .group-tab .unread {
            position: absolute;
            top: -4px;
            right: -4px;
            background: red;
            color: white;
            font-size: 10px;
            padding: 2px 5px;
            border-radius: 10px;
            min-width: 16px;
            text-align: center;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .message {
            display: flex;
            gap: 10px;
            animation: messageSlide 0.3s;
        }
        
        @keyframes messageSlide {
            from { 
                opacity: 0;
                transform: translateY(10px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .message.own {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .message-content {
            max-width: 70%;
        }
        
        .message-bubble {
            background: white;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            position: relative;
        }
        
        .message.own .message-bubble {
            background: var(--primary);
            color: white;
        }
        
        .message-text {
            font-size: 14px;
            line-height: 1.5;
            word-wrap: break-word;
        }
        
        .message-time {
            font-size: 11px;
            color: var(--gray);
            margin-top: 4px;
        }
        
        .message.own .message-time {
            color: rgba(255,255,255,0.8);
            text-align: right;
        }
        
        .message-name {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 4px;
            font-weight: 500;
        }
        
        .system-message {
            text-align: center;
            font-size: 12px;
            color: var(--gray);
            padding: 8px;
            background: rgba(0,0,0,0.05);
            border-radius: 20px;
            margin: 10px auto;
        }
        
        .chat-input-container {
            background: white;
            padding: 10px 15px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }
        
        .chat-input:focus {
            border-color: var(--primary);
        }
        
        .chat-send {
            width: 36px;
            height: 36px;
            background: var(--primary);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
        }
        
        .chat-send:active {
            transform: scale(0.9);
        }
        
        .chat-plus {
            font-size: 24px;
            color: var(--gray);
            cursor: pointer;
        }
        
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 10px 14px;
            background: white;
            border-radius: 12px;
            width: fit-content;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--gray);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }
        
        .group-list-modal {
            padding: 20px;
        }
        
        .group-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .group-card:active {
            transform: scale(0.98);
        }
        
        .group-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .group-info {
            flex: 1;
            margin-left: 15px;
        }
        
        .group-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 4px;
        }
        
        .group-desc {
            font-size: 12px;
            color: var(--gray);
        }
        
        .join-btn {
            padding: 8px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- È°∂ÈÉ®ÂØºËà™ -->
    <div class="header">
        <div class="logo">ÂÆ†ÂèãÂúà</div>
        <div class="header-actions">
            <span class="search-icon">üîç</span>
            <span class="notification-icon">üîî</span>
        </div>
    </div>
    
    <!-- ÂàÜÁ±ªÊ†áÁ≠æ -->
    <div class="category-tabs">
        <div class="tab active" data-category="all">ÂÖ®ÈÉ®</div>
        <div class="tab" data-category="dog">üêï ÁãóÁãó</div>
        <div class="tab" data-category="cat">üê± Áå´Áå´</div>
        <div class="tab" data-category="health">üíä ÂÅ•Â∫∑</div>
        <div class="tab" data-category="food">üçñ È•ÆÈ£ü</div>
        <div class="tab" data-category="behavior">üéæ Ë°å‰∏∫</div>
        <div class="tab" data-category="save">üí∞ ÁúÅÈí±</div>
    </div>
    
    <!-- ÂÜÖÂÆπÂå∫Âüü -->
    <div class="content">
        <!-- ÂèëÂ∏ñÂÖ•Âè£ -->
        <div class="post-entry" onclick="showPostModal()">
            <div class="post-entry-text">ÂàÜ‰∫´‰Ω†ÁöÑÂÖªÂÆ†ÁªèÈ™åÔºåÂ∏ÆÂä©Êõ¥Â§öÂÆ†Âèã...</div>
        </div>
        
        <!-- Â∏ñÂ≠êÂàóË°® -->
        <div id="postList">
            <!-- Á§∫‰æãÂ∏ñÂ≠ê1 -->
            <div class="post-card">
                <div class="post-header">
                    <div class="avatar">Áéã</div>
                    <div class="post-info">
                        <div class="username">
                            ÁéãÈòøÂß®
                            <span class="badge">ËµÑÊ∑±Èì≤Â±éÂÆò</span>
                        </div>
                        <div class="post-time">2Â∞èÊó∂Ââç</div>
                    </div>
                </div>
                <div class="post-content">
                    <div class="post-title">ËÄÅÂπ¥Áä¨ÂÖ≥ËäÇ‰øùÂÖªÔºå‰∏çÁî®‰π∞Ë¥µÁöÑ‰øùÂÅ•ÂìÅÔºÅ</div>
                    <div class="post-text">ÊàëÂÆ∂ÈáëÊØõ‰ªäÂπ¥12Â≤Å‰∫ÜÔºå‰πãÂâçÂÖ≥ËäÇ‰∏ÄÁõ¥‰∏çÂ•ΩÔºåÂÆ†Áâ©ÂåªÈô¢Êé®ËçêÁöÑ‰øùÂÅ•ÂìÅ‰∏Ä‰∏™ÊúàË¶Å800Â§ö„ÄÇÂêéÊù•Áæ§ÈáåÁöÑÊúãÂèãÊé®Ëçê‰∫Ü‰∏Ä‰∏™ÈÖçÊñπÔºöÈ±ºÊ≤π+Ê∞®Á≥ñ+ÈíôÁâáÔºåÊüêÂÆù‰∏ä‰π∞‰∏Ä‰∏™ÊúàÊâç100Â§öÔºåÊïàÊûúÁâπÂà´Â•Ω...</div>
                    <div class="post-tags">
                        <span class="tag">#ËÄÅÂπ¥Áä¨</span>
                        <span class="tag">#ÁúÅÈí±Â¶ôÊãõ</span>
                        <span class="tag">#ÂÖ≥ËäÇ‰øùÂÖª</span>
                    </div>
                </div>
                <div class="post-actions">
                    <span class="action-btn liked">‚ù§Ô∏è 256</span>
                    <span class="action-btn">üí¨ 45</span>
                    <span class="action-btn">üì§ ÂàÜ‰∫´</span>
                    <span class="action-btn">‚≠ê Êî∂Ëóè</span>
                </div>
            </div>
            
            <!-- Á§∫‰æãÂ∏ñÂ≠ê2 -->
            <div class="post-card">
                <div class="post-header">
                    <div class="avatar" style="background: linear-gradient(135deg, #667eea, #764ba2);">Êùé</div>
                    <div class="post-info">
                        <div class="username">
                            ÊùéÂåªÁîü
                            <span class="expert-badge">ËÆ§ËØÅÂÖΩÂåª</span>
                        </div>
                        <div class="post-time">5Â∞èÊó∂Ââç</div>
                    </div>
                </div>
                <div class="post-content">
                    <div class="post-title">Áå´Âí™ËΩØ‰æø‰∏ç‰∏ÄÂÆöË¶ÅÂéªÂåªÈô¢ÔºåËØïËØïËøô‰∏™ÊñπÊ≥ï</div>
                    <div class="post-text">ÊúÄËøëÂæàÂ§öÊúãÂèãÈóÆÁå´Âí™ËΩØ‰æøÊÄé‰πàÂäû„ÄÇÂÖ∂ÂÆûÂ§ßÈÉ®ÂàÜÊÉÖÂÜµÊòØËÇ†ËÉÉÊïèÊÑüÂØºËá¥ÁöÑÔºåÂèØ‰ª•ÂÖàËØïËØïÔºö1.Á¶ÅÈ£ü12Â∞èÊó∂ 2.ÂñÇÁõäÁîüËèåÔºàÊé®ËçêÂ∏ÉÊãâËø™Ôºâ 3.Êç¢ÊàêËÇ†ËÉÉÊïèÊÑüÁ≤Æ„ÄÇÂ¶ÇÊûú3Â§©Ê≤°ÊîπÂñÑÂÜçÂ∞±Âåª...</div>
                    <div class="post-images">
                        <div class="post-image">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%23f0f0f0' width='100' height='100'/%3E%3Ctext x='50' y='50' text-anchor='middle' dy='.3em' fill='%23999' font-size='16'%3EÂõæÁâá1%3C/text%3E%3C/svg%3E" alt="Á§∫‰æãÂõæÁâá">
                        </div>
                        <div class="post-image">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%23f0f0f0' width='100' height='100'/%3E%3Ctext x='50' y='50' text-anchor='middle' dy='.3em' fill='%23999' font-size='16'%3EÂõæÁâá2%3C/text%3E%3C/svg%3E" alt="Á§∫‰æãÂõæÁâá">
                        </div>
                    </div>
                    <div class="post-tags">
                        <span class="tag">#Áå´Âí™ÂÅ•Â∫∑</span>
                        <span class="tag">#‰∏ì‰∏öÂª∫ËÆÆ</span>
                    </div>
                </div>
                <div class="post-actions">
                    <span class="action-btn">‚ù§Ô∏è 892</span>
                    <span class="action-btn">üí¨ 127</span>
                    <span class="action-btn">üì§ ÂàÜ‰∫´</span>
                    <span class="action-btn">‚≠ê Êî∂Ëóè</span>
                </div>
            </div>
            
            <!-- Á§∫‰æãÂ∏ñÂ≠ê3 -->
            <div class="post-card">
                <div class="post-header">
                    <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">Â∞è</div>
                    <div class="post-info">
                        <div class="username">Â∞èÁæéÂ¶àÂ¶à</div>
                        <div class="post-time">Êò®Â§©</div>
                    </div>
                </div>
                <div class="post-content">
                    <div class="post-title">Ê±ÇÂä©ÔºöÊü¥Áä¨ÊéâÊØõ‰∏•ÈáçÊÄé‰πàÂäûÔºü</div>
                    <div class="post-text">ÊàëÂÆ∂Êü¥Áä¨ÊúÄËøëÊéâÊØõÁâπÂà´ÂéâÂÆ≥ÔºåÊØèÂ§©Ê¢≥ÈÉΩËÉΩÊ¢≥‰∏ã‰∏ÄÂ§ßÊääÔºåÂÆ∂ÈáåÂà∞Â§ÑÈÉΩÊòØÊØõ„ÄÇÂ∑≤ÁªèÊç¢‰∫ÜÂ•ΩÂá†ÁßçÁãóÁ≤Æ‰∫ÜÔºå‰πüÂêÉ‰∫ÜÁæéÊØõÁ≤âÔºå‰ΩÜÊòØÊïàÊûú‰∏çÊòéÊòæ„ÄÇËØ∑ÈóÆÂ§ßÂÆ∂Êúâ‰ªÄ‰πàÂ•ΩÂäûÊ≥ïÂêóÔºü</div>
                    <div class="post-tags">
                        <span class="tag">#Ê±ÇÂä©</span>
                        <span class="tag">#ÊéâÊØõ</span>
                        <span class="tag">#Êü¥Áä¨</span>
                    </div>
                </div>
                <div class="post-actions">
                    <span class="action-btn">‚ù§Ô∏è 23</span>
                    <span class="action-btn">üí¨ 67</span>
                    <span class="action-btn">üì§ ÂàÜ‰∫´</span>
                    <span class="action-btn">‚≠ê Êî∂Ëóè</span>
                </div>
            </div>
        </div>
        
        <div class="loading">Âä†ËΩΩÊõ¥Â§öÂÜÖÂÆπ</div>
    </div>
    
    <!-- Â∫ïÈÉ®ÂØºËà™ -->
    <div class="bottom-nav">
        <div class="nav-item active">
            <span class="nav-icon">üè†</span>
            <span class="nav-text">È¶ñÈ°µ</span>
        </div>
        <div class="nav-item">
            <span class="nav-icon">üî•</span>
            <span class="nav-text">ÁÉ≠Èó®</span>
        </div>
        <div class="nav-item" onclick="openChatGroups()">
            <span class="nav-icon">üí¨</span>
            <span class="nav-text">Áæ§ËÅä</span>
            <span class="badge-dot"></span>
        </div>
        <div class="nav-item">
            <span class="nav-icon">‚ùì</span>
            <span class="nav-text">ÈóÆÁ≠î</span>
        </div>
        <div class="nav-item">
            <span class="nav-icon">üë§</span>
            <span class="nav-text">ÊàëÁöÑ</span>
        </div>
    </div>
    
    <!-- ÊµÆÂä®ÂèëÂ∏ñÊåâÈíÆ -->
    <div class="fab" onclick="showPostModal()">+</div>
    
    <!-- Áæ§ËÅäÁïåÈù¢ -->
    <div id="chatContainer" class="chat-container">
        <div class="chat-header">
            <span class="chat-back" onclick="closeChat()">‚Üê</span>
            <div class="chat-title">ÁãóÁãóÂÅ•Â∫∑‰∫§ÊµÅÁæ§</div>
            <span class="chat-info">‚ÑπÔ∏è</span>
        </div>
        
        <div class="chat-groups">
            <div class="group-tab active" data-group="dog-health">
                üè• ÁãóÁãóÂÅ•Â∫∑
                <span class="member-count">(234)</span>
            </div>
            <div class="group-tab" data-group="cat-daily">
                üò∫ Áå´Âí™Êó•Â∏∏
                <span class="member-count">(189)</span>
                <span class="unread">3</span>
            </div>
            <div class="group-tab" data-group="save-money">
                üí∞ ÁúÅÈí±Â¶ôÊãõ
                <span class="member-count">(456)</span>
            </div>
            <div class="group-tab" data-group="newbie">
                üå± Êñ∞ÊâãÊùë
                <span class="member-count">(678)</span>
            </div>
            <div class="group-tab" data-group="senior">
                üë¥ ËÄÅÂπ¥ÂÆ†Áâ©
                <span class="member-count">(123)</span>
            </div>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="system-message">Ê¨¢ËøéÊù•Âà∞ÁãóÁãóÂÅ•Â∫∑‰∫§ÊµÅÁæ§ üëã</div>
            
            <div class="message">
                <div class="message-avatar">Áéã</div>
                <div class="message-content">
                    <div class="message-name">ÁéãÈòøÂß®</div>
                    <div class="message-bubble">
                        <div class="message-text">Â§ßÂÆ∂Â•ΩÔºÅÊàëÂÆ∂ÈáëÊØõÊúÄËøëÊéâÊØõÁâπÂà´ÂéâÂÆ≥ÔºåÊúâ‰ªÄ‰πàÂ•ΩÂäûÊ≥ïÂêóÔºü</div>
                    </div>
                    <div class="message-time">10:23</div>
                </div>
            </div>
            
            <div class="message">
                <div class="message-avatar" style="background: linear-gradient(135deg, #667eea, #764ba2);">Êùé</div>
                <div class="message-content">
                    <div class="message-name">ÊùéÂåªÁîü <span class="expert-badge">ËÆ§ËØÅÂÖΩÂåª</span></div>
                    <div class="message-bubble">
                        <div class="message-text">Êò•Â≠£ÊòØÊç¢ÊØõÊúüÔºåÂª∫ËÆÆÔºö1.ÊØèÂ§©Ê¢≥ÊØõ 2.Ë°•ÂÖÖÈ±ºÊ≤π 3.Ê£ÄÊü•ÊòØÂê¶ÊúâÁöÆËÇ§ÈóÆÈ¢ò</div>
                    </div>
                    <div class="message-time">10:25</div>
                </div>
            </div>
            
            <div class="message">
                <div class="message-avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">Âº†</div>
                <div class="message-content">
                    <div class="message-name">Âº†Âßê</div>
                    <div class="message-bubble">
                        <div class="message-text">ÊàëÂÆ∂ÁöÑ‰πüÊòØÔºÅÊØèÂ§©Ê¢≥ÊØõËÉΩÊ¢≥‰∏ã‰∏ÄÂ§ßÊää üò≠</div>
                    </div>
                    <div class="message-time">10:26</div>
                </div>
            </div>
            
            <div class="system-message">Â∞èÊòéÂä†ÂÖ•‰∫ÜÁæ§ËÅä</div>
            
            <div class="message">
                <div class="message-avatar">Êòé</div>
                <div class="message-content">
                    <div class="message-name">Â∞èÊòé</div>
                    <div class="message-bubble">
                        <div class="message-text">Êñ∞‰∫∫Êä•ÈÅìÔºÅËØ∑ÈóÆÁãóÁãóÁñ´Ëãó‰∏ÄËà¨Â§ö‰πÖÊâì‰∏ÄÊ¨°Ôºü</div>
                    </div>
                    <div class="message-time">10:30</div>
                </div>
            </div>
        </div>
        
        <div class="chat-input-container">
            <span class="chat-plus">‚äï</span>
            <input type="text" class="chat-input" id="chatInput" placeholder="ËæìÂÖ•Ê∂àÊÅØ...">
            <button class="chat-send" onclick="sendMessage()">‚û§</button>
        </div>
    </div>
    
    <!-- Áæ§ÁªÑÂàóË°®ÂºπÁ™ó -->
    <div id="groupListModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Âä†ÂÖ•Áæ§ËÅä</h3>
                <span class="close-btn" onclick="hideGroupListModal()">√ó</span>
            </div>
            
            <div class="group-list-modal">
                <div class="group-card" onclick="joinGroup('dog-health')">
                    <div class="group-icon">üè•</div>
                    <div class="group-info">
                        <div class="group-name">ÁãóÁãóÂÅ•Â∫∑‰∫§ÊµÅÁæ§</div>
                        <div class="group-desc">ÂàÜ‰∫´ÁãóÁãóÂÅ•Â∫∑Áü•ËØÜÔºåÊúâËÆ§ËØÅÂÖΩÂåªÂú®Á∫øÁ≠îÁñë</div>
                    </div>
                    <button class="join-btn">Âä†ÂÖ•</button>
                </div>
                
                <div class="group-card" onclick="joinGroup('cat-daily')">
                    <div class="group-icon">üò∫</div>
                    <div class="group-info">
                        <div class="group-name">Áå´Âí™Êó•Â∏∏ÂàÜ‰∫´</div>
                        <div class="group-desc">Áå´Â•¥ËÅöÈõÜÂú∞ÔºåÂàÜ‰∫´‰∏ªÂ≠êÁöÑÂèØÁà±Êó•Â∏∏</div>
                    </div>
                    <button class="join-btn">Âä†ÂÖ•</button>
                </div>
                
                <div class="group-card" onclick="joinGroup('save-money')">
                    <div class="group-icon">üí∞</div>
                    <div class="group-info">
                        <div class="group-name">ÁúÅÈí±Â¶ôÊãõÁæ§</div>
                        <div class="group-desc">Âõ¢Ë¥≠„ÄÅ‰ºòÊÉ†‰ø°ÊÅØÔºåÂÖªÂÆ†ÁúÅÈí±ÁßòÁ±ç</div>
                    </div>
                    <button class="join-btn">Âä†ÂÖ•</button>
                </div>
                
                <div class="group-card" onclick="joinGroup('newbie')">
                    <div class="group-icon">üå±</div>
                    <div class="group-info">
                        <div class="group-name">Êñ∞ÊâãÊùë</div>
                        <div class="group-desc">Êñ∞ÊâãÂÖªÂÆ†‰∫§ÊµÅÔºåËÄÅÂè∏Êú∫Â∏¶Ë∑Ø</div>
                    </div>
                    <button class="join-btn">Âä†ÂÖ•</button>
                </div>
                
                <div class="group-card" onclick="joinGroup('senior')">
                    <div class="group-icon">üë¥</div>
                    <div class="group-info">
                        <div class="group-name">ËÄÅÂπ¥ÂÆ†Áâ©Êä§ÁêÜ</div>
                        <div class="group-desc">ÂÖ≥Áà±ËÄÅÂπ¥ÂÆ†Áâ©ÔºåÂàÜ‰∫´Êä§ÁêÜÁªèÈ™å</div>
                    </div>
                    <button class="join-btn">Âä†ÂÖ•</button>
                </div>
                
                <div class="group-card" onclick="joinGroup('emergency')">
                    <div class="group-icon">üö®</div>
                    <div class="group-info">
                        <div class="group-name">Á¥ßÊÄ•Ê±ÇÂä©Áæ§</div>
                        <div class="group-desc">24Â∞èÊó∂Âú®Á∫øÔºåÂÆ†Áâ©Á¥ßÊÄ•ÊÉÖÂÜµ‰∫íÂä©</div>
                    </div>
                    <button class="join-btn">Âä†ÂÖ•</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ÂèëÂ∏ñÂºπÁ™ó -->
    <div id="postModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ÂèëÂ∏ÉÂ∏ñÂ≠ê</h3>
                <span class="close-btn" onclick="hidePostModal()">√ó</span>
            </div>
            
            <div class="form-group">
                <label class="form-label">Ê†áÈ¢ò</label>
                <input type="text" class="form-input" id="postTitle" placeholder="‰∏ÄÂè•ËØùËØ¥Êòé‰Ω†ÁöÑÂàÜ‰∫´ÊàñÈóÆÈ¢ò">
            </div>
            
            <div class="form-group">
                <label class="form-label">ÂÜÖÂÆπ</label>
                <textarea class="form-textarea" id="postContent" placeholder="ËØ¶ÁªÜÊèèËø∞‰Ω†ÁöÑÁªèÈ™åÊàñÈóÆÈ¢ò..."></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">ÈÄâÊã©ÂàÜÁ±ª</label>
                <div class="category-select">
                    <div class="category-option" data-value="dog">üêï ÁãóÁãó</div>
                    <div class="category-option" data-value="cat">üê± Áå´Áå´</div>
                    <div class="category-option" data-value="health">üíä ÂÅ•Â∫∑</div>
                    <div class="category-option" data-value="food">üçñ È•ÆÈ£ü</div>
                    <div class="category-option" data-value="behavior">üéæ Ë°å‰∏∫</div>
                    <div class="category-option" data-value="save">üí∞ ÁúÅÈí±</div>
                </div>
            </div>
            
            <button class="submit-btn" onclick="submitPost()">ÂèëÂ∏É</button>
        </div>
    </div>
    
    <script>
        // Ê®°ÊãüÁî®Êà∑Êï∞ÊçÆ
        let currentUser = {
            name: 'ÂÆ†Âèã',
            avatar: 'ÂÆ†',
            isLoggedIn: false
        };
        
        // Ê®°ÊãüÂ∏ñÂ≠êÊï∞ÊçÆ
        let posts = [];
        
        // ÊòæÁ§∫ÂèëÂ∏ñÂºπÁ™ó
        function showPostModal() {
            if (!currentUser.isLoggedIn) {
                if (confirm('ÈúÄË¶ÅÂÖàÁôªÂΩïÊâçËÉΩÂèëÂ∏ñÔºåÊòØÂê¶‰ΩøÁî®ÂæÆ‰ø°ÁôªÂΩïÔºü')) {
                    simulateWechatLogin();
                }
                return;
            }
            document.getElementById('postModal').classList.add('active');
        }
        
        // ÈöêËóèÂèëÂ∏ñÂºπÁ™ó
        function hidePostModal() {
            document.getElementById('postModal').classList.remove('active');
            document.getElementById('postTitle').value = '';
            document.getElementById('postContent').value = '';
            document.querySelectorAll('.category-option').forEach(opt => {
                opt.classList.remove('selected');
            });
        }
        
        // Ê®°ÊãüÂæÆ‰ø°ÁôªÂΩï
        function simulateWechatLogin() {
            currentUser = {
                name: 'Êñ∞Áî®Êà∑' + Math.floor(Math.random() * 1000),
                avatar: 'Êñ∞',
                isLoggedIn: true
            };
            alert('ÁôªÂΩïÊàêÂäüÔºÅ');
            showPostModal();
        }
        
        // ÂàÜÁ±ªÈÄâÊã©
        document.querySelectorAll('.category-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.category-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });
        
        // ÂàÜÁ±ªÊ†áÁ≠æÂàáÊç¢
        document.querySelectorAll('.category-tabs .tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.category-tabs .tab').forEach(t => {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                filterPosts(this.dataset.category);
            });
        });
        
        // Á≠õÈÄâÂ∏ñÂ≠ê
        function filterPosts(category) {
            console.log('Á≠õÈÄâÂàÜÁ±ªÔºö', category);
        }
        
        // Êèê‰∫§Â∏ñÂ≠ê
        function submitPost() {
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            const selectedCategory = document.querySelector('.category-option.selected');
            
            if (!title || !content) {
                alert('ËØ∑Â°´ÂÜôÊ†áÈ¢òÂíåÂÜÖÂÆπ');
                return;
            }
            
            if (!selectedCategory) {
                alert('ËØ∑ÈÄâÊã©‰∏Ä‰∏™ÂàÜÁ±ª');
                return;
            }
            
            const newPost = {
                id: Date.now(),
                title: title,
                content: content,
                category: selectedCategory.dataset.value,
                author: currentUser.name,
                avatar: currentUser.avatar,
                time: 'ÂàöÂàö',
                likes: 0,
                comments: 0,
                tags: generateTags(selectedCategory.dataset.value)
            };
            
            addPostToList(newPost);
            hidePostModal();
            alert('ÂèëÂ∏ÉÊàêÂäüÔºÅ');
        }
        
        // ÁîüÊàêÊ†áÁ≠æ
        function generateTags(category) {
            const tagMap = {
                dog: ['#ÁãóÁãóÊó•Â∏∏', '#Èì≤Â±éÂÆò'],
                cat: ['#Áå´Áå´Êó•Â∏∏', '#Áå´Â•¥'],
                health: ['#ÂÅ•Â∫∑Âí®ËØ¢', '#ÂåªÁñóÂª∫ËÆÆ'],
                food: ['#È•ÆÈ£üÊé®Ëçê', '#Ëê•ÂÖªÊê≠ÈÖç'],
                behavior: ['#Ë°å‰∏∫ËÆ≠ÁªÉ', '#‰π†ÊÉØÂüπÂÖª'],
                save: ['#ÁúÅÈí±Â¶ôÊãõ', '#ÊÄß‰ª∑ÊØî']
            };
            return tagMap[category] || ['#ÂÆ†Áâ©'];
        }
        
        // Ê∑ªÂä†Â∏ñÂ≠êÂà∞ÂàóË°®
        function addPostToList(post) {
            const postHTML = `
                <div class="post-card">
                    <div class="post-header">
                        <div class="avatar">${post.avatar}</div>
                        <div class="post-info">
                            <div class="username">${post.author}</div>
                            <div class="post-time">${post.time}</div>
                        </div>
                    </div>
                    <div class="post-content">
                        <div class="post-title">${post.title}</div>
                        <div class="post-text">${post.content}</div>
                        <div class="post-tags">
                            ${post.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                    <div class="post-actions">
                        <span class="action-btn">‚ù§Ô∏è ${post.likes}</span>
                        <span class="action-btn">üí¨ ${post.comments}</span>
                        <span class="action-btn">üì§ ÂàÜ‰∫´</span>
                        <span class="action-btn">‚≠ê Êî∂Ëóè</span>
                    </div>
                </div>
            `;
            
            const postList = document.getElementById('postList');
            const postEntry = document.querySelector('.post-entry');
            postList.insertAdjacentHTML('afterbegin', postHTML);
        }
        
        // Â§ÑÁêÜÁÇπËµûÁ≠â‰∫§‰∫í
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('action-btn') && e.target.textContent.includes('‚ù§Ô∏è')) {
                e.target.classList.toggle('liked');
                let likesText = e.target.textContent;
                let likesCount = parseInt(likesText.match(/\d+/) || 0);
                if (e.target.classList.contains('liked')) {
                    likesCount++;
                } else {
                    likesCount--;
                }
                e.target.textContent = `‚ù§Ô∏è ${likesCount}`;
            }
            
            if (e.target.classList.contains('action-btn') && e.target.textContent.includes('üì§')) {
                if (navigator.share) {
                    navigator.share({
                        title: 'ÂÆ†ÂèãÂúà - ÂÖªÂÆ†ÁªèÈ™åÂàÜ‰∫´',
                        text: 'ÊàëÂú®ÂÆ†ÂèãÂúàÂèëÁé∞‰∫ÜÂæàÂ§öÂÆûÁî®ÁöÑÂÖªÂÆ†ÁªèÈ™åÔºåÂø´Êù•ÁúãÁúãÔºÅ',
                        url: window.location.href
                    });
                } else {
                    alert('ÁÇπÂáªÂè≥‰∏äËßíÂàÜ‰∫´ÁªôÊúãÂèãÂêßÔºÅ');
                }
            }
            
            if (e.target.classList.contains('action-btn') && e.target.textContent.includes('‚≠ê')) {
                e.target.classList.toggle('liked');
                if (e.target.classList.contains('liked')) {
                    e.target.textContent = '‚≠ê Â∑≤Êî∂Ëóè';
                } else {
                    e.target.textContent = '‚≠ê Êî∂Ëóè';
                }
            }
        });
        
        // Â∫ïÈÉ®ÂØºËà™ÂàáÊç¢
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                this.classList.add('active');
                const navText = this.querySelector('.nav-text').textContent;
                handleNavigation(navText);
            });
        });
        
        // Â§ÑÁêÜÂØºËà™
        function handleNavigation(page) {
            const content = document.querySelector('.content');
            
            switch(page) {
                case 'ÁÉ≠Èó®':
                    loadHotPosts();
                    break;
                case 'Áæ§ËÅä':
                    openChatGroups();
                    break;
                case 'ÈóÆÁ≠î':
                    loadQAPosts();
                    break;
                case 'ÊàëÁöÑ':
                    loadUserProfile();
                    break;
                default:
                    location.reload();
            }
        }
        
        // ÊâìÂºÄÁæ§ËÅäÂàóË°®
        function openChatGroups() {
            if (!currentUser.isLoggedIn) {
                if (confirm('ÈúÄË¶ÅÂÖàÁôªÂΩïÊâçËÉΩÂä†ÂÖ•Áæ§ËÅäÔºåÊòØÂê¶‰ΩøÁî®ÂæÆ‰ø°ÁôªÂΩïÔºü')) {
                    simulateWechatLogin();
                }
                return;
            }
            document.getElementById('groupListModal').classList.add('active');
        }
        
        // ÈöêËóèÁæ§ÁªÑÂàóË°®
        function hideGroupListModal() {
            document.getElementById('groupListModal').classList.remove('active');
        }
        
        // Âä†ÂÖ•Áæ§ÁªÑÂπ∂ÊâìÂºÄËÅäÂ§©
        function joinGroup(groupId) {
            hideGroupListModal();
            openChat(groupId);
        }
        
        // ÊâìÂºÄËÅäÂ§©ÁïåÈù¢
        function openChat(groupId) {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.classList.add('active');
            
            const groupNames = {
                'dog-health': 'ÁãóÁãóÂÅ•Â∫∑‰∫§ÊµÅÁæ§',
                'cat-daily': 'Áå´Âí™Êó•Â∏∏ÂàÜ‰∫´',
                'save-money': 'ÁúÅÈí±Â¶ôÊãõÁæ§',
                'newbie': 'Êñ∞ÊâãÊùë',
                'senior': 'ËÄÅÂπ¥ÂÆ†Áâ©Êä§ÁêÜ',
                'emergency': 'Á¥ßÊÄ•Ê±ÇÂä©Áæ§'
            };
            
            document.querySelector('.chat-title').textContent = groupNames[groupId] || 'Áæ§ËÅä';
            
            const badgeDot = document.querySelector('.badge-dot');
            if (badgeDot) badgeDot.remove();
            
            setTimeout(() => {
                const messages = document.getElementById('chatMessages');
                messages.scrollTop = messages.scrollHeight;
            }, 100);
        }
        
        // ÂÖ≥Èó≠ËÅäÂ§©ÁïåÈù¢
        function closeChat() {
            document.getElementById('chatContainer').classList.remove('active');
        }
        
        // ÂèëÈÄÅÊ∂àÊÅØ
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const messageText = input.value.trim();
            
            if (!messageText) return;
            
            const messagesContainer = document.getElementById('chatMessages');
            
            const messageHTML = `
                <div class="message own">
                    <div class="message-avatar">${currentUser.avatar}</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <div class="message-text">${messageText}</div>
                        </div>
                        <div class="message-time">${new Date().toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'})}</div>
                    </div>
                </div>
            `;
            
            messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
            input.value = '';
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            setTimeout(() => {
                simulateReply(messageText);
            }, 1000 + Math.random() * 2000);
        }
        
        // Ê®°ÊãüÂÖ∂‰ªñÁî®Êà∑ÂõûÂ§ç
        function simulateReply(userMessage) {
            const replies = [
                { name: 'ÊùéÂåªÁîü', avatar: 'Êùé', text: 'Ëøô‰∏™ÈóÆÈ¢òÂæàÂ∏∏ËßÅÔºåÊàëÊù•Ëß£Á≠î‰∏Ä‰∏ã...', style: 'background: linear-gradient(135deg, #667eea, #764ba2);' },
                { name: 'ÁéãÈòøÂß®', avatar: 'Áéã', text: 'Êàë‰πãÂâç‰πüÈÅáÂà∞ËøáËøô‰∏™ÈóÆÈ¢òÔºÅ' },
                { name: 'Â∞èÁæé', avatar: 'Áæé', text: 'ÂêåÈóÆÔºåÊúüÂæÖÂ§ß‰Ω¨Ëß£Á≠î üôè' },
                { name: 'Âº†Âßê', avatar: 'Âº†', text: 'ÊàëÊúâ‰∏™ÂúüÊñπÊ≥ïÔºåÁâπÂà´ÁÆ°Áî®ÔºÅ', style: 'background: linear-gradient(135deg, #f093fb, #f5576c);' },
                { name: 'ËÄÅÈôà', avatar: 'Èôà', text: 'Âª∫ËÆÆÂéªÂåªÈô¢Ê£ÄÊü•‰∏Ä‰∏ãÊØîËæÉ‰øùÈô©' }
            ];
            
            const reply = replies[Math.floor(Math.random() * replies.length)];
            const messagesContainer = document.getElementById('chatMessages');
            
            const typingHTML = `
                <div class="message" id="typing-message">
                    <div class="message-avatar" ${reply.style ? `style="${reply.style}"` : ''}>${reply.avatar}</div>
                    <div class="message-content">
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            
            messagesContainer.insertAdjacentHTML('beforeend', typingHTML);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            setTimeout(() => {
                const typingMessage = document.getElementById('typing-message');
                if (typingMessage) typingMessage.remove();
                
                const replyHTML = `
                    <div class="message">
                        <div class="message-avatar" ${reply.style ? `style="${reply.style}"` : ''}>${reply.avatar}</div>
                        <div class="message-content">
                            <div class="message-name">${reply.name}</div>
                            <div class="message-bubble">
                                <div class="message-text">${reply.text}</div>
                            </div>
                            <div class="message-time">${new Date().toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'})}</div>
                        </div>
                    </div>
                `;
                
                messagesContainer.insertAdjacentHTML('beforeend', replyHTML);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1000);
        }
        
        // Áæ§ÁªÑÂàáÊç¢
        document.querySelectorAll('.group-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.group-tab').forEach(t => {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                
                const unread = this.querySelector('.unread');
                if (unread) {
                    unread.remove();
                }
                
                const groupName = this.textContent.trim().split('(')[0];
                document.querySelector('.chat-title').textContent = groupName;
                
                loadGroupMessages(this.dataset.group);
            });
        });
        
        // Âä†ËΩΩÁæ§ÁªÑÊ∂àÊÅØ
        function loadGroupMessages(groupId) {
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.innerHTML = `<div class="system-message">Ê¨¢ËøéÊù•Âà∞${document.querySelector('.chat-title').textContent} üëã</div>`;
            
            if (groupId === 'cat-daily') {
                messagesContainer.innerHTML += `
                    <div class="message">
                        <div class="message-avatar">Áå´</div>
                        <div class="message-content">
                            <div class="message-name">Áå´Â•¥‰∏ÄÂè∑</div>
                            <div class="message-bubble">
                                <div class="message-text">ÁúãÁúãÊàëÂÆ∂‰∏ªÂ≠ê‰ªäÂ§©ÁöÑÁù°Âßø üòÇ</div>
                            </div>
                            <div class="message-time">09:15</div>
                        </div>
                    </div>
                `;
            } else if (groupId === 'save-money') {
                messagesContainer.innerHTML += `
                    <div class="message">
                        <div class="message-avatar">Âõ¢</div>
                        <div class="message-content">
                            <div class="message-name">Âõ¢Èïø</div>
                            <div class="message-bubble">
                                <div class="message-text">ÊüêÂÆùÁãóÁ≤ÆÂõ¢Ë¥≠ÂºÄÂßã‰∫ÜÔºÅÊØîÂπ≥Êó∂‰æøÂÆú30%ÔºÅ</div>
                            </div>
                            <div class="message-time">14:20</div>
                        </div>
                    </div>
                `;
            }
            
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        // ÁõëÂê¨ÂõûËΩ¶ÂèëÈÄÅÊ∂àÊÅØ
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // Ê®°ÊãüÊé•Êî∂Êñ∞Ê∂àÊÅØÈÄöÁü•
        setInterval(() => {
            if (Math.random() > 0.9 && !document.getElementById('chatContainer').classList.contains('active')) {
                const navItem = document.querySelector('.nav-item:nth-child(3)');
                if (!navItem.querySelector('.badge-dot')) {
                    const dot = document.createElement('span');
                    dot.className = 'badge-dot';
                    navItem.appendChild(dot);
                }
            }
        }, 10000);
        
        // Âä†ËΩΩÁÉ≠Èó®Â∏ñÂ≠ê
        function loadHotPosts() {
            const content = document.querySelector('.content');
            content.innerHTML = `
                <div style="padding: 20px; text-align: center;">
                    <h3 style="margin-bottom: 20px;">üî• ‰ªäÊó•ÁÉ≠Èó®</h3>
                    <div class="post-card">
                        <div class="post-header">
                            <div class="avatar" style="background: linear-gradient(135deg, #667eea, #764ba2);">Êùé</div>
                            <div class="post-info">
                                <div class="username">
                                    ÊùéÂåªÁîü
                                    <span class="expert-badge">ËÆ§ËØÅÂÖΩÂåª</span>
                                </div>
                                <div class="post-time">ÁΩÆÈ°∂</div>
                            </div>
                        </div>
                        <div class="post-content">
                            <div class="post-title">„ÄêÂøÖÁúã„ÄëÊñ∞ÊâãÂÖªÂÆ†ÈÅøÂùëÊåáÂçóTOP10</div>
                            <div class="post-text">ÊÄªÁªì‰∫Ü10‰∏™Êñ∞ÊâãÊúÄÂÆπÊòìË∏©ÁöÑÂùëÔºåÂåÖÊã¨Áñ´Ëãó„ÄÅÈ©±Ëô´„ÄÅÈ•ÆÈ£üÁ≠âÊñπÈù¢...</div>
                            <div class="post-tags">
                                <span class="tag">#Êñ∞ÊâãÂøÖÁúã</span>
                                <span class="tag">#ÈÅøÂùëÊåáÂçó</span>
                            </div>
                        </div>
                        <div class="post-actions">
                            <span class="action-btn liked">‚ù§Ô∏è 5.2k</span>
                            <span class="action-btn">üí¨ 892</span>
                            <span class="action-btn">üì§ ÂàÜ‰∫´</span>
                            <span class="action-btn">‚≠ê Êî∂Ëóè</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Âä†ËΩΩÈóÆÁ≠îÊùøÂùó
        function loadQAPosts() {
            const content = document.querySelector('.content');
            content.innerHTML = `
                <div style="padding: 20px;">
                    <h3 style="margin-bottom: 20px; text-align: center;">üí¨ ÈóÆÁ≠î‰∏ìÂå∫</h3>
                    <div style="background: #FFF3E0; padding: 12px; border-radius: 8px; margin-bottom: 20px;">
                        <p style="font-size: 14px; color: #E65100;">
                            üèÜ ÂõûÁ≠îÈóÆÈ¢òÂèØËé∑ÂæóÁßØÂàÜÔºåÁßØÂàÜÂèØÁî®‰∫éÂêë‰∏ìÂÆ∂ÊèêÈóÆ
                        </p>
                    </div>
                    <div class="post-card">
                        <div class="post-header">
                            <div class="avatar">ÊÄ•</div>
                            <div class="post-info">
                                <div class="username">ÊÄ•ÊÄ•ÊÄ•</div>
                                <div class="post-time">10ÂàÜÈíüÂâç</div>
                            </div>
                        </div>
                        <div class="post-content">
                            <div class="post-title">ÁãóÁãóÁ™ÅÁÑ∂‰∏çÂêÉ‰∏úË•øÊÄé‰πàÂäûÔºüÂú®Á∫øÁ≠âÔºÅ</div>
                            <div class="post-text">‰ªäÂ§©Êó©‰∏äÂºÄÂßãÂ∞±‰∏çÂêÉ‰∏úË•ø‰∫ÜÔºåÁ≤æÁ•ûËøòÂèØ‰ª•...</div>
                            <div class="post-tags">
                                <span class="tag" style="background: #FFEBEE; color: #D32F2F;">#Á¥ßÊÄ•</span>
                            </div>
                        </div>
                        <div class="post-actions">
                            <span class="action-btn">üí¨ Âø´ÈÄüÂõûÁ≠î</span>
                            <span class="action-btn">üëÅÔ∏è 234</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Âä†ËΩΩÁî®Êà∑ËµÑÊñô
        function loadUserProfile() {
            const content = document.querySelector('.content');
            
            if (!currentUser.isLoggedIn) {
                content.innerHTML = `
                    <div style="padding: 40px; text-align: center;">
                        <div style="font-size: 60px; margin-bottom: 20px;">üêæ</div>
                        <h3 style="margin-bottom: 20px;">Âä†ÂÖ•ÂÆ†ÂèãÂúà</h3>
                        <p style="color: #666; margin-bottom: 30px;">ÁôªÂΩïÂêéÂç≥ÂèØÂèëÂ∏ñ„ÄÅËØÑËÆ∫„ÄÅÊî∂Ëóè</p>
                        <button class="submit-btn" onclick="simulateWechatLogin()" style="width: 200px; margin: 0 auto;">
                            ÂæÆ‰ø°‰∏ÄÈîÆÁôªÂΩï
                        </button>
                    </div>
                `;
            } else {
                content.innerHTML = `
                    <div style="padding: 20px;">
                        <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; text-align: center;">
                            <div class="avatar" style="width: 80px; height: 80px; font-size: 32px; margin: 0 auto 15px;">
                                ${currentUser.avatar}
                            </div>
                            <h3>${currentUser.name}</h3>
                            <p style="color: #666; margin-top: 10px;">Êñ∞ÊâãÈì≤Â±éÂÆò</p>
                            <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                                <div>
                                    <div style="font-size: 20px; font-weight: bold;">0</div>
                                    <div style="font-size: 12px; color: #666;">ÂèëÂ∏ñ</div>
                                </div>
                                <div>
                                    <div style="font-size: 20px; font-weight: bold;">0</div>
                                    <div style="font-size: 12px; color: #666;">Êî∂Ëóè</div>
                                </div>
                                <div>
                                    <div style="font-size: 20px; font-weight: bold;">10</div>
                                    <div style="font-size: 12px; color: #666;">ÁßØÂàÜ</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: white; border-radius: 12px; padding: 15px;">
                            <div style="padding: 12px 0; border-bottom: 1px solid #f0f0f0;">
                                <span style="margin-right: 10px;">üìù</span> ÊàëÁöÑÂ∏ñÂ≠ê
                            </div>
                            <div style="padding: 12px 0; border-bottom: 1px solid #f0f0f0;">
                                <span style="margin-right: 10px;">‚≠ê</span> ÊàëÁöÑÊî∂Ëóè
                            </div>
                            <div style="padding: 12px 0; border-bottom: 1px solid #f0f0f0;">
                                <span style="margin-right: 10px;">üèÜ</span> ÁßØÂàÜÊòéÁªÜ
                            </div>
                            <div style="padding: 12px 0;">
                                <span style="margin-right: 10px;">‚öôÔ∏è</span> ËÆæÁΩÆ
                            </div>
                        </div>
                    </div>
                `;
            }
        }
        
        // Ê®°Êãü‰∏ãÊãâÂà∑Êñ∞
        let startY = 0;
        let isPulling = false;
        
        document.addEventListener('touchstart', function(e) {
            if (window.scrollY === 0) {
                startY = e.touches[0].clientY;
                isPulling = true;
            }
        });
        
        document.addEventListener('touchmove', function(e) {
            if (!isPulling) return;
            
            const currentY = e.touches[0].clientY;
            const pullDistance = currentY - startY;
            
            if (pullDistance > 100) {
                document.body.style.transform = `translateY(${Math.min(pullDistance * 0.5, 80)}px)`;
            }
        });
        
        document.addEventListener('touchend', function(e) {
            if (!isPulling) return;
            
            document.body.style.transition = 'transform 0.3s';
            document.body.style.transform = 'translateY(0)';
            
            setTimeout(() => {
                document.body.style.transition = '';
            }, 300);
            
            isPulling = false;
        });
        
        // Ê®°ÊãüÊó†ÈôêÊªöÂä®Âä†ËΩΩ
        window.addEventListener('scroll', function() {
            if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {
                console.log('Âä†ËΩΩÊõ¥Â§ö...');
            }
        });
    </script>

<!-- MVP localStorage + ÂàÜÁ±ªÁ≠õÈÄâ Ë°•‰∏ÅÔºà‰∏çÊîπÂéüÁªìÊûÑÔºåÂèØÈöèÊó∂Âà†Èô§Ôºâ -->
<script>
(function() {
  const STORAGE_KEY = 'mvp_posts';
  let persisted = [];

  function readStorage() {
    try { persisted = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }
    catch (e) { persisted = []; }
  }
  function writeStorage() {
    try { localStorage.setItem(STORAGE_KEY, JSON.stringify(persisted)); } catch(e){}
  }

  // ‰øùÂ≠ò‰∏Ä‰ªΩÂéüÂáΩÊï∞
  const originalAddPostToList = window.addPostToList;

  // ÂåÖË£Ö addPostToListÔºöÊ∏≤Êüì + ‰øùÂ≠ò
  window.addPostToList = function(post, opts) {
    // Â∞ΩÈáèË°•ÈΩêÂàÜÁ±ªÂ≠óÊÆµ
    try {
      if (!post.category) {
        const sel = document.querySelector('.category-option.selected');
        const val = sel?.dataset?.value || sel?.textContent || 'ÂÖ∂‰ªñ';
        post.category = (val || '').trim();
      }
    } catch(e){}
    if (typeof originalAddPostToList === 'function') {
      originalAddPostToList(post);
    }
    // Ë∑≥Ëøá‰øùÂ≠òÔºà‰æãÂ¶Ç‰ªéÊú¨Âú∞ÊÅ¢Â§çÊó∂Ôºâ
    if (opts && opts.skipSave) return;
    try {
      persisted.push(post);
      writeStorage();
    } catch(e){}
  };

  // ÈáçÂÜô filterPostsÔºöÊåâÂàÜÁ±ªÈáçÊ∏≤Êüì
  window.filterPosts = function(category) {
    try {
      const list = document.getElementById('postList');
      if (!list) return;
      list.innerHTML = '';
      const selected = (!category || category === 'all') ? persisted : persisted.filter(p => (p.category||'').trim() === category);
      selected.forEach(p => {
        if (typeof originalAddPostToList === 'function') {
          originalAddPostToList(p);
        }
      });
    } catch(e){ console.warn('filterPosts error', e); }
  };

  // È°µÈù¢Âä†ËΩΩÔºöËØªÂèñÂπ∂ÊÅ¢Â§çÂ∏ñÂ≠ê
  document.addEventListener('DOMContentLoaded', function() {
    readStorage();
    if (persisted.length) {
      const list = document.getElementById('postList');
      if (list) list.innerHTML = '';
      persisted.forEach(p => {
        if (typeof originalAddPostToList === 'function') {
          originalAddPostToList(p);
        }
      });
    }
  });

  // Ê∏ÖÁ©∫Êú¨Âú∞Êï∞ÊçÆÁöÑÂ∞èÂ∑•ÂÖ∑ÔºàÂèØÈÄâÔºâ
  window.__clearLocalPosts = function() {
    localStorage.removeItem(STORAGE_KEY);
    alert('Â∑≤Ê∏ÖÁ©∫Êú¨Âú∞Â∏ñÂ≠êÔºå‰∏ãÊ¨°Âà∑Êñ∞ÂêéÊÅ¢Â§ç‰∏∫Á©∫');
  };
})();
</script>

</body>
</html>
